# flow.yaml

appId: me.rainbow
---
- launchApp:
    appId: me.rainbow
    clearState: true
    clearKeychain: true
    permissions: { all: deny }

- extendedWaitUntil:
    visible:
      id: welcome-screen
    timeout: 60_000 # wait for bundle sometimes

- tapOn:
    id: already-have-wallet-button

- assertVisible:
    id: add-wallet-sheet

- tapOn:
    id: restore-with-key-button

- assertVisible:
    id: import-sheet

- tapOn:
    id: import-sheet-input

- inputText: '0x30cf0b4e692056ce62de7b9a9eb40e97feaf1ee191ac22b33346fae13ae2e61b' # empty wallet pkey

- assertVisible:
    id: import-sheet-button
    enabled: true

- tapOn:
    id: import-sheet-button

- assertVisible:
    id: wallet-info-modal

- tapOn:
    id: wallet-info-submit-button
    enabled: true

- extendedWaitUntil:
    visible:
      id: wallet-screen
    timeout: 120_000 # long import times for the test wallet
